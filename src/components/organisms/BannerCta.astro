---
import { Image } from 'astro:assets'
import { marked } from 'marked'
import ButtonCta from '../atoms/ButtonCta.astro'
import H2 from '../atoms/H2.astro'
import cancunAirportTransportationImg from '../../assets/images/reliable-company.webp'
import { useTranslations } from '../../lib/i18n/utils'

interface Props {
  title: string
  text: string
  lang: 'es' | 'en'
}

const { title, text, lang } = Astro.props
const t = useTranslations(lang)

const buttons = [
  { id: 'primary', variant: 'orange' },
  { id: 'secondary', variant: 'grayDark' },
]
---

<section
  id='cancun-airport-transportation'
  class='text-white container mt-12'
>
  <div
    class='bg-black px-6 py-8 rounded-lg flex items-center justify-between relative'
  >
    <div class='texts w-full sm:w-1/2 md:w-9/12'>
      <H2>{title}</H2>
      <div
        set:html={marked.parse(text)}
        class='markdown'
      />
      <div class='flex gap-3 flex-col md:flex-row'>
        {
          buttons.map((button) => (
            <ButtonCta
              href={t(`baseSections.bannerCta.buttons.${button.id}.href`)}
              variant={button.variant as 'orange' | 'grayDark'}
              class='px-8 w-full md:w-auto inline-block'
            >
              {t(`baseSections.bannerCta.buttons.${button.id}.text`)}
            </ButtonCta>
          ))
        }
      </div>
    </div>
    <Image
      src={cancunAirportTransportationImg}
      alt={t('baseSections.bannerCta.imageAlt')}
      title={t('baseSections.bannerCta.imageTitle')}
      width={350}
      height={550}
      class='h-full md:h-[110%] w-auto absolute right-0 bottom-0 hidden sm:block'
    />
  </div>
</section>
