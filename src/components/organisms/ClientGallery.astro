---
// Libs
import { Image } from "astro:assets";
import { getLangFromUrl, getTranslations } from "../../lib/i18n/utils";

// Components
import SectionHeading from "../molecules/SectionHeading.astro";

// Props
interface Props {
  title: string;
  subtitle: string;
  images: ImageMetadata[];
}

const { title, subtitle, images } = Astro.props;

const lang = getLangFromUrl(Astro.url);
const t = getTranslations(lang);
---

<section id="client-gallery" aria-labelledby="gallery-title" class="py-12">
  <div class="container mx-auto px-4 text-center md:px-8">
    <SectionHeading title={title} id="gallery-title">
      <p>{subtitle}</p>
    </SectionHeading>

    <div class="mt-12 grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4">
      {
        images.map((image, index) => (
          <div class="overflow-hidden rounded-lg">
            <Image
              src={image}
              alt={t("global.sections.clientGallery.imageAlt", {
                index: String(index + 1),
              })}
              title={t("global.sections.clientGallery.imageTitle", {
                index: String(index + 1),
              })}
              class="h-64 w-full object-cover transition-transform duration-300 hover:scale-105"
            />
          </div>
        ))
      }
    </div>
  </div>
</section>
