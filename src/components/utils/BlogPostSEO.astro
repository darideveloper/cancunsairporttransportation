---
// Components
import BaseSEO from "./base/BaseSEO.astro";

// Reas props
interface Props {
  author?: string; // Author of the page (optional, to ignore i18n)
  postTitle?: string; // Post title
  postExcerpt?: string; // Post excerpt
  postKeywords?: string; // Post keywords
  postAuthor?: string; // Post author
  postDate?: string; // Post date
  postImageUrl?: string; // Post image URL
  postSlug?: string; // Post URL
  alternateUrls?: { en: string; es: string };
}
const {
  author,
  postTitle,
  postExcerpt,
  postKeywords,
  postAuthor,
  postDate,
  postImageUrl,
  postSlug,
  alternateUrls,
} = Astro.props as Props;

// Data
const domain = import.meta.env.SITE_URL;

// i18n
const { lang } = Astro.params as { lang: "en" | "es" };

// Extra JSON
const extraJson = {
  headline: postTitle,
  description: postExcerpt,
  author: {
    "@type": "Person",
    name: postAuthor,
  },
  datePublished: postDate,
  image: postImageUrl,
  url: `${domain}/${lang}/blog/${postSlug}`,
};
---

<BaseSEO
  title={postTitle}
  description={postExcerpt}
  author={author}
  baseKeywords={postKeywords}
  jsonType="BlogPosting"
  extraJson={extraJson}
  ogImage={postImageUrl}
  useTagLine={false}
  alternateUrls={alternateUrls}
/>
