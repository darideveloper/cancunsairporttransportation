---
import NavLink from "../atoms/NavLink.astro";
import { MOBILE_MENU_STYLES } from "../../styles/menu";
import {
  useTranslations,
  getLangFromUrl,
  getLocalizedPath,
} from "../../lib/i18n/utils";

interface Props {
  mode?: "desktop" | "mobile";
}

const { mode = "desktop" } = Astro.props;
const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);

const links = [
  {
    key: "cancun",
    link: getLocalizedPath("home", lang),
  },
  {
    key: "carmen",
    link: getLocalizedPath("playa", lang),
  },
  {
    key: "tulum",
    link: getLocalizedPath("tulum", lang),
  },
];
---

<ul
  class:list={[
    mode === "desktop"
      ? "mx-auto hidden w-9/12 gap-0 lg:flex lg:w-auto lg:gap-2"
      : "mx-auto w-full gap-0 lg:w-auto lg:gap-2",
  ]}
>
  {
    links.map((link) => (
      <li
        class:list={[
          mode === "desktop" ? "inline-block" : MOBILE_MENU_STYLES.li,
        ]}
      >
        <NavLink
          link={link.link}
          label={t(`global.menubar.nav.${link.key}`)}
          class={mode === "mobile" ? MOBILE_MENU_STYLES.link : ""}
        />
      </li>
    ))
  }
  <slot />
</ul>
