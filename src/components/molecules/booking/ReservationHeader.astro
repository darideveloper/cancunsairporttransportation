---
import { FaCheckCircle, FaEnvelope } from 'react-icons/fa'
import ButtonCta from '../../../components/atoms/ButtonCta'
import ReservationStatusBadge from './ReservationStatusBadge.astro'
import { getTranslations } from '../../../lib/i18n/utils'
import { routes } from '../../../lib/i18n/routes'
import type { User } from '../../../types/reservation'

interface Props {
  user: User
  status: 'CONFIRMED' | 'PENDING' | 'CANCELLED'
  lang: 'en' | 'es'
}

const { user, status, lang } = Astro.props
const t = getTranslations(lang)
---

<header class='mb-12 text-center'>
  <h1 class='mb-8 text-4xl font-bold text-black capitalize'>
    {t('pages.reservationDetail.heading')}
  </h1>

  <div class='flex flex-col items-center gap-4'>
    <div class='text-blue text-8xl'>
      <FaCheckCircle className='text-blue h-24 w-24' />
    </div>

    <div class='flex flex-col items-center gap-4 md:flex-row'>
      <div class='mt-4 flex flex-col items-center gap-2 md:mr-4 md:items-end'>
        <div class='text-lg font-bold'>
          {
            t('pages.reservationDetail.user.greeting', {
              name: user.name,
            })
          }
        </div>
        <div class='flex gap-2 text-gray-700'>
          <div class='flex items-center gap-2'>
            <span class='text-lg font-bold'>#</span>
            {user.phone}
          </div>
          <div class='flex items-center gap-2'>
            <div class='flex items-center justify-center'>
              <FaEnvelope />
            </div>
            {user.email}
          </div>
        </div>
      </div>

      <div
        class='mt-4 flex flex-col items-center gap-4 border-l-0 border-gray-300 pl-0 md:flex-row md:border-l md:pl-8'
      >
        <div class='flex flex-col items-center gap-2 md:items-start'>
          <span class='text-sm font-bold text-black'
            >{t('pages.reservationDetail.user.statusLabel')}</span
          >
          <ReservationStatusBadge
            status={status}
            lang={lang}
            size='sm'
          />
        </div>
        <div class='flex'>
          <ButtonCta
            variant='red'
            href={`/${routes.reservation[lang]}`}
          >
            {t('pages.reservationDetail.user.logout')}
          </ButtonCta>
        </div>
      </div>
    </div>
  </div>
</header>
