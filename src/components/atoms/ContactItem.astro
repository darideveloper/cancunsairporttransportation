---
import { getLangFromUrl, getTranslations } from "../../lib/i18n/utils";

interface Props {
  label: string;
  phone: string;
  class?: string;
}

const { label, phone, class: className } = Astro.props;
const lang = getLangFromUrl(Astro.url);
const t = getTranslations(lang);

// Clean phone for tel link
const cleanPhone = phone.replace(/[^\d+]/g, "");
const ariaLabel = t("global.accessibility.callAction", { label, phone });
---

<div class={`flex items-center gap-1 sm:gap-2 ${className}`}>
  <span class="opacity-80">{label}:</span>
  <a
    href={`tel:${cleanPhone}`}
    aria-label={ariaLabel}
    class="hover:text-brand-primary text-accent-dark font-medium opacity-100 transition-colors hover:underline hover:opacity-80"
  >
    {phone}
  </a>
</div>
