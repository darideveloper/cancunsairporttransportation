---
interface Props {
  name: string;
  label: string;
  type?: astroHTML.JSX.HTMLInputTypeAttribute;
  placeholder?: string;
  required?: boolean;
  icon?: (props: any) => any;
  class?: string;
}

const {
  name,
  label,
  type = "text",
  placeholder,
  required = false,
  icon: Icon,
  class: className = "",
} = Astro.props;
---

<div>
  <label for={name} class={`mb-2 block font-bold ${className}`}>
    {label}
  </label>
  <div class="focus-within:text-accent relative text-gray-500">
    {
      Icon && (
        <div class="pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3">
          <Icon className="h-5 w-5" aria-hidden="true" />
        </div>
      )
    }
    <input
      type={type}
      id={name}
      name={name}
      required={required}
      placeholder={placeholder}
      class:list={[
        "focus:border-accent focus:ring-accent placeholder:text-gray-dark w-full rounded-lg border border-gray-300 py-3 pr-3 transition-all outline-none focus:ring-2",
        Icon ? "pl-10" : "pl-3",
      ]}
    />
  </div>
</div>
